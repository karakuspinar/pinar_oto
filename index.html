<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pınar Oto Aksesuar</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#fff5f8;
}

.topbar{
  background:#ff2e88;
  color:#fff;
  padding:12px;
  text-align:center;
  font-weight:bold;
}

.header{
  background:#fff;
  padding:20px;
  border-bottom:1px solid #eee;
}

.header-inner{
  max-width:1200px;
  margin:auto;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.right-buttons button{
  margin-left:10px;
}

.filters{
  background:#fff;
  padding:20px;
  border-bottom:1px solid #eee;
}

.filters-inner{
  max-width:1200px;
  margin:auto;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

select{
  padding:12px;
  border-radius:20px;
  border:1px solid #ddd;
  min-width:160px;
}

button{
  padding:12px 20px;
  border:none;
  border-radius:20px;
  background:#ff2e88;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}

.grid{
  max-width:1200px;
  margin:40px auto;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:30px;
}

.card{
  background:#fff;
  padding:15px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 0 10px rgba(0,0,0,0.1);
}

.card img{
  width:100%;
  height:180px;
  object-fit:contain;
}

.whatsapp{
position:fixed;
right:20px;
bottom:20px;
background:#25D366;
color:#fff;
padding:15px 20px;
border-radius:50px;
text-decoration:none;
font-weight:bold;
box-shadow:0 5px 15px rgba(0,0,0,0.2);
}
</style>
</head>

<body>

<div class="topbar">
Pınar Oto Aksesuar • Orijinal Ürün • Ücretsiz Kargo
</div>

<div class="header">
<div class="header-inner">
<h2>Pınar Oto Aksesuar</h2>

<div class="right-buttons">
<button>Giriş</button>
<button>Üye Ol</button>
<button id="cartBtn">Sepet (0)</button>
</div>

</div>
</div>

<!-- FİLTRE -->
<div class="filters">
<div class="filters-inner">

<select id="brand">
<option value="">Marka</option>
</select>

<select id="model">
<option value="">Model</option>
</select>

<select id="year">
<option value="">Yıl</option>
</select>

<button onclick="applyFilter()">Uygula</button>
<button onclick="clearFilter()">Sıfırla</button>

</div>
</div>

<!-- KATEGORİLER -->
<div class="grid">

<div class="card">
<img src="images/cam.jpg">
<h3>Cam</h3>
<button onclick="goCat('cam')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/paspas.jpg">
<h3>Paspas</h3>
<button onclick="goCat('paspas')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/jant.jpg">
<h3>Jant</h3>
<button onclick="goCat('jant')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/difuzor.jpg">
<h3>Difüzör</h3>
<button onclick="goCat('difuzor')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/ayna.jpg">
<h3>Ayna</h3>
<button onclick="goCat('ayna')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/tavan.jpg">
<h3>Tavan</h3>
<button onclick="goCat('tavan')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/tozluk.jpg">
<h3>Tozluk</h3>
<button onclick="goCat('tozluk')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/marsbiyel.jpg">
<h3>Marsbiyel</h3>
<button onclick="goCat('marsbiyel')">Kategoriye Git</button>
</div>

<div class="card">
<img src="images/kolcak.jpg">
<h3>Kolçak</h3>
<button onclick="goCat('kolcak')">Kategoriye Git</button>
</div>

</div>

<a class="whatsapp" href="https://wa.me/905531785602">WhatsApp</a>

<script>
// KATEGORİYE GİT
function goCat(cat){
window.location.href = "category.html?cat=" + cat;
}

// FİLTRE UYGULA
function applyFilter(){
const b=document.getElementById("brand").value;
const m=document.getElementById("model").value;
const y=document.getElementById("year").value;

localStorage.setItem("carBrand",b);
localStorage.setItem("carModel",m);
localStorage.setItem("carYear",y);

alert("Filtre kaydedildi");
}

// SIFIRLA
function clearFilter(){
localStorage.clear();
location.reload();
}

// MARKA MODEL YÜKLE
document.addEventListener("DOMContentLoaded", async function(){

const brandSel = document.getElementById("brand");
const modelSel = document.getElementById("model");
const yearSel  = document.getElementById("year");

const res = await fetch("products.json");
const data = await res.json();

const brands=[...new Set(data.map(p=>p.brand))].filter(Boolean).sort();

brands.forEach(b=>{
brandSel.innerHTML += `<option value="${b}">${b}</option>`;
});

brandSel.onchange=function(){
const selected=this.value;
modelSel.innerHTML=`<option>Model</option>`;
yearSel.innerHTML=`<option>Yıl</option>`;

const models=[...new Set(
data.filter(p=>p.brand===selected).map(p=>p.model)
)].filter(Boolean).sort();

models.forEach(m=>{
modelSel.innerHTML+=`<option value="${m}">${m}</option>`;
});
};

modelSel.onchange=function(){
const b=brandSel.value;
const m=this.value;

yearSel.innerHTML=`<option>Yıl</option>`;

const years=[...new Set(
data.filter(p=>p.brand===b && p.model===m).map(p=>p.year)
)].filter(Boolean).sort();

years.forEach(y=>{
yearSel.innerHTML+=`<option value="${y}">${y}</option>`;
});
};

});
</script>

</body>
</html>